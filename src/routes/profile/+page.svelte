<script>
    import { goto } from '$app/navigation';
    export let data;

    const role = data.role;

    // ===== KAFELKI TRENERA =====
    const trainerCards = [
        {
            title: "Moje grupy",
            desc: "ZarzÄ…dzaj swoimi grupami.",
            icon: "ğŸ‘¥",
            link: "/groups"
        },
        {
            title: "Moi podopieczni",
            desc: "PrzeglÄ…daj i dodawaj podopiecznych.",
            icon: "ğŸ§’",
            link: "/students"
        },
        {
            title: "Moje zajÄ™cia",
            desc: "Harmonogram i edycja zajÄ™Ä‡.",
            icon: "ğŸ“…",
            link: "/classes"
        },
    ];

    // ===== KAFELKI RODZICA =====
    const parentCards = [
        {
            title: "Moje dzieci",
            desc: "Lista Twoich dzieci.",
            icon: "ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦",
            link: "/parent/children"
        },
        {
            title: "Moje zajÄ™cia",
            desc: "Zobacz swoje zajÄ™cia.",
            icon: "ğŸ“˜",
            link: "/classes/my"
        },
        {
            title: "ZajÄ™cia moich dzieci",
            desc: "Harmonogram zajÄ™Ä‡ dzieci.",
            icon: "ğŸ«",
            link: "/classes/children"
        },
    ];

    // ===== KAFELKI STUDENTA =====
    const studentCards = [
        {
            title: "Moje zajÄ™cia",
            desc: "Harmonogram zajÄ™Ä‡.",
            icon: "ğŸ“…",
            link: "/classes"
        },
        {
            title: "Moja grupa",
            desc: "Zobacz swojÄ… grupÄ™.",
            icon: "ğŸ‘¤",
            link: "/groups/my"
        },
    ];
</script>

<div class="max-w-6xl mx-auto px-4 py-10">

    <h1 class="text-3xl font-bold mb-2">MÃ³j profil</h1>
    <p class="text-gray-600 mb-8">
        Wybierz jednÄ… z dostÄ™pnych opcji.
    </p>

    <!-- GRID KAFELKÃ“W -->
    <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">

        {#if role === 'trainer'}
            {#each trainerCards as c}
                <div
                    on:click={() => goto(c.link)}
                    class="p-6 bg-white border rounded-2xl shadow-sm hover:shadow-lg hover:-translate-y-1 cursor-pointer transition"
                >
                    <div class="text-5xl mb-3">{c.icon}</div>
                    <h2 class="text-xl font-semibold">{c.title}</h2>
                    <p class="text-gray-600 mt-1">{c.desc}</p>
                </div>
            {/each}

        {:else if role === 'parent'}
            {#each parentCards as c}
                <div
                    on:click={() => goto(c.link)}
                    class={`p-6 rounded-2xl shadow-sm cursor-pointer transition
                        ${c.highlight
                            ? 'bg-green-600 text-white hover:bg-green-700'
                            : 'bg-white border hover:shadow-lg hover:-translate-y-1'
                        }`}
                >
                    <div class="text-5xl mb-3">{c.icon}</div>
                    <h2 class="text-xl font-semibold">{c.title}</h2>
                    <p class={`${c.highlight ? 'text-green-100' : 'text-gray-600'} mt-1`}>
                        {c.desc}
                    </p>
                </div>
            {/each}

        {:else if role === 'student'}
            {#each studentCards as c}
                <div
                    on:click={() => goto(c.link)}
                    class="p-6 bg-white border rounded-2xl shadow-sm hover:shadow-lg hover:-translate-y-1 cursor-pointer transition"
                >
                    <div class="text-5xl mb-3">{c.icon}</div>
                    <h2 class="text-xl font-semibold">{c.title}</h2>
                    <p class="text-gray-600 mt-1">{c.desc}</p>
                </div>
            {/each}

        {:else}
            <p>Nieznana rola uÅ¼ytkownika.</p>
        {/if}

    </div>

</div>
